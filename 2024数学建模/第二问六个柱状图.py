import matplotlib.pyplot as plt
import numpy as np

# L_total_list 数据
L_total_list = [[111980.00000000006, 0, 81980.00000000006, 0, 93980.00000000003, 23690.000000000087, 66980.00000000003, 0, 103980.00000000003, 21090.000000000087, 76980.00000000003, 0, 124200.00000000001, 89100.00000000001, 97200.00000000001, 62100.000000000015], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 30800.00000000003, 0, 6800.000000000029, 0], [46940.00000000009, 0, 16940.000000000087, 0, 52940.00000000006, 0, 25940.00000000006, 0, 62940.00000000006, 0, 35940.00000000006, 0, 102600.00000000003, 67500.00000000003, 75600.00000000003, 40500.00000000003], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 22400.00000000006, 0, 6400.000000000058, 0], [47680.00000000012, 0, 27680.000000000116, 0, 69680.00000000003, 7200.000000000029, 53680.00000000003, 0, 0, 0, 0, 0, 37200.000000000015, 6000.000000000015, 21200.000000000015, 0], [185867.49999999994, 51853.84093749977, 155867.49999999994, 21853.840937499772, 163867.49999999997, 93424.99999999996, 135367.49999999997, 64924.999999999956, 173867.49999999997, 96774.99999999996, 145367.49999999997, 68274.99999999996, 173649.99999999997, 138499.99999999994, 145149.99999999997, 109999.99999999996]]
# 定义颜色列表
colors = ['red', 'blue', 'green', 'orange', 'purple', 'yellow']

# 创建柱状图
for i, data in enumerate(L_total_list):
    x = np.arange(1, len(data) + 1)  # x 轴从1到16
    max_index = np.argmax(data)  # 找到最大值的索引
    max_value = data[max_index]  # 找到最大值

    # 绘制柱状图
    plt.figure(figsize=(10, 6))
    plt.bar(x, data, color=colors[i])  # 使用颜色列表中的颜色

    # 标注最大值
    plt.text(max_index + 1, max_value + 5000, f'{max_value:.2f}', ha='center', va='bottom', fontsize=10, color='red')
    plt.scatter(max_index + 1, max_value, color='red', zorder=5)

    # 设置图表标题和标签
    plt.title(f'Bar Chart for situation {i + 1}')
    plt.xlabel('Combination')
    plt.ylabel('Gross Profit')
    plt.xticks(x)
    plt.ylim(0, 200000)  # 设置 y 轴从 0 到 200000
    plt.grid(True)

    # 显示图表
    plt.show()
